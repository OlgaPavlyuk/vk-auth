{"version":3,"sources":["actions/loginActions.js","reducers/login.js","reducers/search.js","reducers/rootReducer.js","actions/searchActions.js","store/configureStore.js","Components/Loader/Loader.js","Components/Error/Error.js","Components/Auth/Auth.js","Icons/FriendsIcon.js","Components/User/User.js","Icons/SearchIcon.js","Components/Search/SearchForm.js","Components/Friends/Friends.js","Containers/Search.js","Containers/App.js","index.js"],"names":["VK","window","getUserInfo","id","dispatch","type","Api","call","users_id","fields","v","response","user","firstName","first_name","lastName","last_name","photo","photo_100","friendsCount","counters","friends","payload","Error","error","error_msg","initialState","isLogin","isLoading","count","isSearch","isFetching","rootReducer","combineReducers","login","state","action","message","search","items","store","createStore","applyMiddleware","thunk","Loader","className","props","text","onClick","onClose","Auth","FriendsIcon","width","height","xmlns","viewBox","fill","d","User","onLogout","src","alt","title","SearchIcon","Search","onSubmit","onChange","onInput","value","placeholder","Friends","map","key","connect","getFriends","query","q","clearSearch","useState","setQuery","e","preventDefault","target","handleLogin","session","userId","status","handleLogout","logout","checkLogin","getLoginStatus","mid","clearLogin","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.85d50a35.chunk.js","sourcesContent":["export const LOGIN_REQUEST = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const CREAR_LOGIN = 'CREAR_LOGIN';\r\nexport const USER_REQUEST = 'USER_REQUEST';\r\nexport const USER_SUCCESS = 'USER_SUCCESS';\r\n\r\nconst VK = window.VK;\r\n\r\nexport function getUserInfo(id) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: USER_REQUEST,\r\n    })\r\n\r\n    VK.Api.call('users.get', {\r\n      users_id: id,\r\n      fields: 'photo_100, counters',\r\n      v: '5.103',\r\n    },\r\n      (response) => {\r\n        if (response.response) {\r\n          const { id, first_name, last_name, photo_100, counters } = response.response[0];\r\n          const user = {\r\n            id,\r\n            firstName: first_name,\r\n            lastName: last_name,\r\n            photo: photo_100,\r\n            friendsCount: counters.friends,\r\n          };\r\n\r\n          dispatch({\r\n            type: USER_SUCCESS,\r\n            payload: user,\r\n          })\r\n\r\n        } else {\r\n          dispatch({\r\n            type: LOGIN_FAIL,\r\n            payload: new Error(response.error.error_msg)\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nexport function handleLogin() {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: LOGIN_REQUEST,\r\n    })\r\n\r\n    VK.Auth.login((response) => {\r\n      if (response.session) {\r\n        const userId = response.session.user.id;\r\n        dispatch(getUserInfo(userId));\r\n      } else {\r\n        let message;\r\n        if (response.status === 'not_authorized') {\r\n          message = 'Authorization is canceled.'\r\n        } else {\r\n          message = 'Authorization is not allowed. Check your browser settings.';\r\n        }\r\n        dispatch({\r\n          type: LOGIN_FAIL,\r\n          payload: new Error(message)\r\n        });\r\n      }\r\n    }, 2);\r\n  }\r\n};\r\n\r\nexport function handleLogout() {\r\n  return function (dispatch) {\r\n    VK.Auth.logout(() => {\r\n      dispatch({\r\n        type: LOGOUT,\r\n      });\r\n    })\r\n  }\r\n};\r\n\r\nexport function checkLogin() {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: LOGIN_REQUEST,\r\n    })\r\n\r\n    VK.Auth.getLoginStatus((response) => {\r\n      if (response.session) {\r\n        const userId = response.session.mid;\r\n        dispatch(getUserInfo(userId));\r\n      } else {\r\n        dispatch({\r\n          type: CREAR_LOGIN,\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {\r\n  LOGIN_REQUEST,\r\n  USER_REQUEST,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  CREAR_LOGIN,\r\n  USER_SUCCESS,\r\n} from '../actions/loginActions'\r\n\r\n\r\n// isLoading is true to not render auth and button on loading page when user is auth\r\nconst initialState = {\r\n  isLogin: false,\r\n  user: {},\r\n  error: '',\r\n  isLoading: true,\r\n};\r\n\r\nexport function loginReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case USER_REQUEST:\r\n    case LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isLogin: false,\r\n        error: '',\r\n      }\r\n\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isLogin: false,\r\n        error: action.payload.message,\r\n      }\r\n    \r\n    case CREAR_LOGIN:\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isLogin: false,\r\n        error: '',\r\n        user: {},\r\n      }\r\n    \r\n    case USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isLogin: true,\r\n        error: '',\r\n        user: action.payload,\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SEARCH_REQUEST,\r\n  SEARCH_SUCCESS,\r\n  SEARCH_FAIL,\r\n  RESET_SEARCH,\r\n} from '../actions/searchActions';\r\n\r\nconst initialState = {\r\n  friends: [],\r\n  count: 0,\r\n  isSearch: false,\r\n  isFetching: false,\r\n  error: '',\r\n};\r\n\r\n\r\nexport function searchReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RESET_SEARCH:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        isSearch: false,\r\n        count: 0,\r\n        friends: [],\r\n        error: '',\r\n      }\r\n\r\n    case SEARCH_REQUEST:\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n        count: 0,\r\n        friends: [],\r\n        error: '',\r\n      }\r\n\r\n    case SEARCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        friends: action.payload.items,\r\n        count: action.payload.count,\r\n        isSearch: true,\r\n        isFetching: false,\r\n      }\r\n\r\n    case SEARCH_FAIL:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        count: 0,\r\n        friends: [],\r\n        isSearch: false,\r\n        error: action.payload.message,\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { loginReducer } from './login';\r\nimport { searchReducer } from './search';\r\n\r\nexport const rootReducer = combineReducers({\r\n  login: loginReducer,\r\n  search: searchReducer,\r\n});\r\n","export const SEARCH_REQUEST = 'SEARCH_REQUEST';\r\nexport const SEARCH_SUCCESS = 'SEARCH_SUCCESS';\r\nexport const SEARCH_FAIL = 'SEARCH_FAIL';\r\nexport const RESET_SEARCH = 'RESET_SEARCH';\r\nexport const USER_LOGOUT = '';\r\n\r\nexport function getFriends(query) {\r\n\r\n  if (query === '') {\r\n    return function (dispatch) {    \r\n      dispatch({\r\n        type: RESET_SEARCH,\r\n      })\r\n    }\r\n  };\r\n\r\n  const VK = window.VK;\r\n  return function (dispatch) {\r\n    if (query === '') {\r\n      dispatch({\r\n        type: RESET_SEARCH,\r\n      })\r\n    }\r\n\r\n    dispatch({\r\n      type: SEARCH_REQUEST,\r\n    })\r\n\r\n    VK.Api.call('friends.search',\r\n      {\r\n        q: query,\r\n        v: '5.103',\r\n      },\r\n      (response) => {\r\n        if (response.response) {\r\n          const { items, count } = response.response;\r\n\r\n          dispatch({\r\n            type: SEARCH_SUCCESS,\r\n            payload: { items, count },\r\n          })\r\n\r\n        } else {\r\n          dispatch({\r\n            type: SEARCH_FAIL,\r\n            error: true,\r\n            payload: new Error('Search error')\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\nexport function clearSearch() {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: RESET_SEARCH,\r\n    })\r\n  }\r\n};\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { rootReducer } from '../reducers/rootReducer';\r\nimport thunk from 'redux-thunk';\r\n// import logger from 'redux-logger';\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\n","import React from 'react';\r\nimport './Loader.scss';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <div className=\"loader__text\">Loading</div>\r\n      <div className=\"spinner\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport './Error.scss';\r\n\r\nconst Error = (props) => {\r\n  return (\r\n    <div className=\"error\">\r\n      <div className=\"error__text\">{props.text}</div>\r\n      <button className=\"error__close\" onClick={props.onClose}></button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React from 'react';\r\nimport './Auth.scss';\r\n\r\nconst Auth = (props) => {\r\n  return (\r\n    <div className=\"auth\">\r\n      <h1 className=\"auth__title\">Authorization</h1>\r\n      <button\r\n        className=\"btn auth__btn login\"\r\n        onClick={props.onClick}\r\n      >\r\n        Login\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","\r\nimport React from 'react';\r\n\r\nconst FriendsIcon = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 612 612\" fill=\"none\" width={width} height={height}>\r\n      <path d=\"M306 328.667c90.759 0 164.333-73.575 164.333-164.333S396.759 0 306 0 141.667 73.575 141.667 164.333 215.241 328.667 306 328.667zm77.878-99.291c-7.475 24.718-39.498 43.298-77.878 43.298s-70.403-18.581-77.878-43.298h155.756zm199.789 269.291v54.169c0 8.029-5.912 17.359-13.246 20.624C541.993 586.109 464.45 612 306 612c-158.451 0-235.992-25.891-264.42-38.54-7.335-3.265-13.246-12.595-13.246-20.624v-54.169c0-81.174 61.804-148.515 140.666-157.533 2.396-.275 5.949.751 7.903 2.165 36.361 26.324 80.877 42.035 129.097 42.035s92.738-15.711 129.097-42.035c1.955-1.414 5.508-2.44 7.904-2.165 78.861 9.018 140.666 76.359 140.666 157.533z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default FriendsIcon;","import React from 'react';\r\nimport Error from '../Error/Error';\r\nimport './User.scss';\r\n\r\nimport FriendsIcon from '../../Icons/FriendsIcon';\r\n\r\nconst User = (props) => {\r\n  const { firstName, lastName, photo, friendsCount, error, onLogout } = props;\r\n\r\n  if (error) return <Error text={error} />\r\n\r\n  return (\r\n    <div className=\"user\">\r\n      <img\r\n        src={photo}\r\n        alt={`${firstName} ${lastName}`}\r\n        title={`${firstName} ${lastName}`}\r\n        className=\"user__photo\"\r\n      />\r\n      <div className=\"user__info\">\r\n        <button className=\"btn logout user__logout\" onClick={onLogout}>Log out</button>\r\n        <span className=\"user__friends-count\">\r\n          <FriendsIcon width=\"1.5rem\" height=\"1.5rem\"/>\r\n          {friendsCount}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\n\r\nconst SearchIcon = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg width={width} height={height} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M21.0539 20.0462C21.3321 20.3245 21.3321 20.7756 21.0539 21.0539C20.7756 21.3321 20.3245 21.3321 20.0462 21.0539L16.6262 17.6339C16.348 17.3556 16.348 16.9045 16.6262 16.6262C16.9045 16.348 17.3556 16.348 17.6339 16.6262L21.0539 20.0462ZM10.29 17.8425C6.11892 17.8425 2.73755 14.4612 2.73755 10.29C2.73755 6.11892 6.11892 2.73755 10.29 2.73755C14.4612 2.73755 17.8425 6.11892 17.8425 10.29C17.8425 14.4612 14.4612 17.8425 10.29 17.8425ZM10.29 16.4175C13.6742 16.4175 16.4175 13.6742 16.4175 10.29C16.4175 6.90592 13.6742 4.16255 10.29 4.16255C6.90592 4.16255 4.16255 6.90592 4.16255 10.29C4.16255 13.6742 6.90592 16.4175 10.29 16.4175ZM6.77505 9.72005C6.77505 9.98238 6.56238 10.195 6.30005 10.195C6.03771 10.195 5.82505 9.98238 5.82505 9.72005C5.82505 7.5689 7.5689 5.82505 9.72005 5.82505C9.98238 5.82505 10.195 6.03771 10.195 6.30005C10.195 6.56238 9.98238 6.77505 9.72005 6.77505C8.09357 6.77505 6.77505 8.09357 6.77505 9.72005Z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default SearchIcon;\r\n","import React from 'react';\r\nimport './SearchForm.scss';\r\n\r\nimport SearchIcon from '../../Icons/SearchIcon';\r\n\r\nconst Search = (props) => {\r\n  return (\r\n    <div className=\"search\">\r\n      <form className=\"search__form search-form\" onSubmit={props.onSubmit}>\r\n        <div className=\"search-form__input-wrapper\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"search-form__input\"\r\n            onChange={props.onInput}\r\n            value={props.value}\r\n            placeholder=\"friends searching\"\r\n          />\r\n          <span className=\"search-form__icon\">\r\n            <SearchIcon width=\"1.5rem\" height=\"1.5rem\" />\r\n          </span>\r\n        </div>\r\n        <button className=\"btn search-form__btn\">Search</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport Loader from '../Loader/Loader';\r\nimport Error from '../Error/Error';\r\nimport './Friends.scss';\r\n\r\nconst Friends = (props) => {\r\n\r\n  const { error, isFetching, friends, count } = props;\r\n\r\n  if (isFetching) return <Loader />\r\n\r\n  if (error) return <Error text={error} />\r\n\r\n  if (count < 1) {\r\n    return (\r\n      <h3 className=\"friends__title\">No friends found</h3>\r\n    );\r\n  };\r\n\r\n  const title = count > 1 ? 'friends' : 'friend';\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"friends__title\">{count} {title} found:</h3>\r\n      <ul className=\"friends\">\r\n        {friends.map(({ id, first_name, last_name } ) => {\r\n          return (\r\n            <li\r\n              key={id}\r\n              className=\"friends__item\"\r\n            >\r\n              {first_name} {last_name}\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Friends;","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getFriends, clearSearch } from '../actions/searchActions';\r\nimport SearchForm from '../Components/Search/SearchForm';\r\nimport Friends from '../Components/Friends/Friends';\r\n\r\nconst Search = (props) => {\r\n  const [query, setQuery] = useState('');\r\n  const { search, getFriends, clearSearch } = props;\r\n\r\n  const handleChange = ({ target }) => {\r\n    const newQuery = target.value;\r\n    if (!newQuery) {\r\n      clearSearch();\r\n    }\r\n    setQuery(target.value);\r\n  }\r\n\r\n  const onSubmit = (e) => { \r\n    e.preventDefault();\r\n    getFriends(query);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SearchForm onSubmit={onSubmit} value={query} onInput={handleChange} />\r\n      {search.isSearch && <Friends {...search} />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    search: store.search,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getFriends: (query) => dispatch(getFriends(query)),\r\n  clearSearch: () => dispatch(clearSearch()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { handleLogin, handleLogout, checkLogin, CREAR_LOGIN } from '../actions/loginActions';\nimport { clearSearch } from '../actions/searchActions';\nimport Loader from '../Components/Loader/Loader';\nimport Error from '../Components/Error/Error';\nimport Auth from '../Components/Auth/Auth';\nimport User from '../Components/User/User';\nimport Search from '../Containers/Search';\n\nconst App = (props) => {\n  const {\n    login,\n    handleLogin,\n    handleLogout,\n    checkLogin,\n    clearLogin,\n    clearSearch } = props;\n  \n  const { isLoading, error, user } = login;\n\n  useEffect(() => {\n    const VK = window.VK;\n    if (!VK) return (\n      <div>VK error</div>\n    );\n\n    checkLogin();\n\n  }, [checkLogin]);\n\n  const logout = () => {\n    handleLogout();\n    clearSearch();\n  }\n\n  const renderApp = () => {\n    if (isLoading) return <Loader />\n\n    if (error) return <Error text={error} onClose={clearLogin} />\n\n    if (!login.isLogin) return <Auth onClick={handleLogin}/>\n\n    return (\n      <>\n        <User {...user} onLogout={logout} />\n        <Search />\n      </>\n    )\n  }\n\n  return (\n    <div className=\"container\">\n      {renderApp()}\n    </div>\n  );\n  \n}\n\nconst mapStateToProps = (store) => {\n  return {\n    login: store.login,\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  handleLogin: () => dispatch(handleLogin()),\n  handleLogout: () => dispatch(handleLogout()),\n  checkLogin: () => dispatch(checkLogin()),\n  clearLogin: () => dispatch({ type: CREAR_LOGIN }),\n  clearSearch: () => dispatch(clearSearch()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/configureStore';\n\nimport './index.scss';\nimport App from './Containers/App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}